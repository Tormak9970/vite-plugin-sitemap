(function(s,n){typeof exports=="object"&&typeof module!="undefined"?n(exports,require("fs")):typeof define=="function"&&define.amd?define(["exports","fs"],n):(s=typeof globalThis!="undefined"?globalThis:s||self,n(s.VitePluginSitemap={},s.fs))})(this,function(s,n){"use strict";function r(e){return e&&typeof e=="object"&&"default"in e?e:{default:e}}var l=r(n);function a(e,u){return e.reduce((t,i)=>{const o=`${u}${i.path}`;return i.path!=="*"&&i.name&&t.push(o),i.children&&t.push(...a(i.children,`${o}/`)),t},[])}function c(e){return`<urlset xmlns="http://www.sitemaps.org/schemas/sitemap/0.9" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.sitemaps.org/schemas/sitemap/0.9 http://www.sitemaps.org/schemas/sitemap/0.9/sitemap.xsd">
	${e.map(t=>`<url><loc>${t}</loc></url>`).join(`\r
`)}
</urlset>`}function f(e){return{name:"vite-plugin-sitemap",buildStart:async()=>{if(e){let u=e.routes;e.urlGenHook&&(u=await e.urlGenHook(e));const t=`${process.cwd()}/${e.contentBase||"public"}`,i=a(u,e.baseUrl),o=c(i);l.default.existsSync(t)||l.default.mkdirSync(t),l.default.writeFile(`${t}/sitemap.xml`,o,p=>{if(p)return console.log(p)})}}}}s.VitePluginSitemap=f,Object.defineProperties(s,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
